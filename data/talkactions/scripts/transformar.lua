local saga = {
    -- [VOCATION] = {OUTFIT-1, OUTFIT-2, OUTFIT-3, level=50, effect=240}
    --Bardock
    [1] = { 1683, 1684, 1685, 1686, 1687, 1688, 1689, 1690, 1691, 1692, 1693, 1694, level = 50, effect = 62 },
    --Bills
    [2] = { 1711, 1709, 1716, 1712, 1717, 1714, 1719, 1713, 1715, 1718, 1710, 1720, 1721, 1722, level = 50, effect = 62 },
    --Botamo
    [3] = { 1731, 1730, 1729, 1728, 1726, 1727, 1725, 1724, 1723, level = 50, effect = 62 },
    --Brolly
    [4] = { 1739, 1738, 1742, 1743, 1741, 1740, 1744, 1737, 1736, 1735, 1734, 1733, 1732, level = 50, effect = 62 },
    --Bulma
    [5] = { 1748, 1747, 1746, 1745, 1749, 1750, 1751, 1752, 1753, 1754, level = 50, effect = 62 },
    --Buu
    [6] = { 1755, 1756, 1757, 1758, 1759, 1760, 1761, 1762, 1763, 1764, level = 50, effect = 62 },
    --C8
    [7] = { 1777, 1767, 1766, 1767, 1768, 1769, 1770, 1771, 1772, 1773, 1774, 1775, 1776, level = 50, effect = 62 },
    --C17
    [8] = { 1777, 1778, 1779, 1780, 1781, 1782, 1783, 1784, 1785, level = 50, effect = 62 },
    --C18
    [9] = { 1777, 1786, 1787, 1788, 1789, 1790, 1791, 1792, 1793, level = 50, effect = 62 },
    --Cabba
    [10] = { 1794, 1795, 1796, 1797, 1798, 1799, 1800, 1801, 1802, 1803, level = 50, effect = 62 },
    --Cell
    [11] = { 1804, 1805, 1806, 1807, 1808, 1809, 1810, level = 50, effect = 62 },
    --Cooler
    [12] = { 1811, 1812, 1813, 1814, 1815, 1818, 1820, 1816, 1817, 1819, 1821, level = 50, effect = 62 },
    --Dende
    [13] = { 1822, 1823, 1824, 1825, 1826, 1827, 1828, 1829, 1830, 1831, 1832, 1833, 1834, level = 50, effect = 62 },
    --Freeza
    [14] = { 1835, 1836, 1837, 1838, 1839, 1840, 1841, 1842, 1843, 1844, level = 50, effect = 62 },
    --Ginn
    [15] = { 1845, 1846, 1847, 1848, 1849, 1850, 1851, 1852, 1853, level = 50, effect = 62 },
    --Gohan
    [16] = { 1854, 1855, 1856, 1857, 1858, 1859, 1860, 1861, 1862, 1863, 1864, 1865, 1866, 1867, 1868, level = 50, effect = 62 },
    --Goku
    [17] = { 1881, 1882, 1883, 1884, 1885, 1886, 1887, 1888, 1889, 1890, 1891, 1892, 1893, 1894, 1895, 1896, 1897, 1898, 1899, level = 50, effect = 62 },
    --Goku Black
    [18] = { 1869, 1870, 1871, 1872, 1873, 1874, 1875, 1876, 1877, 1878, 1879, 1880, level = 50, effect = 62 },
    --Hitto
    [19] = { 1900, 1901, 1902, 1903, 1904, 1905, 1906, 1907, 1908, level = 50, effect = 62 },
    --Janemba
    [20] = { 1909, 1910, 1911, 1912, 1913, 1914, 1915, 1916, level = 50, effect = 62 },
    --Jiren
    [21] = { 1917, 1918, 1919, 1920, 1921, 1922, 1923, 1924, 1925, 1926, 1927, 1928, 1929, 1930, level = 50, effect = 62 },
    --Kagome
    [22] = { 1931, 1932, 1933, 1934, 1935, 1936, 1937, 1938, 1939, 1940, 1941, level = 50, effect = 62 },
    --Kaio
    [23] = { 1942, 1943, 1944, 1945, 1946, 1947, 1948, 1949, 1950, level = 50, effect = 62 },
    --Kame
    [24] = { 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, 1961, 1962, level = 50, effect = 62 },
    --King Cold
    [25] = { 1963, 1964, 1965, 1966, 1967, 1968, 1969, 1970, 1971, 1972, level = 50, effect = 62 },
    --King Vegeta
    [26] = { 1973, 1974, 1975, 1976, 1977, 1978, 1979, 1980, 1981, 1982, 1983, level = 50, effect = 62 },
    --Kuririn
    [27] = { 1984, 1985, 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993, 1994, level = 50, effect = 62 },
    --Liquir
    [28] = { 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, level = 50, effect = 62 },
    --Pan
    [29] = { 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, level = 50, effect = 62 },
    --Piccolo
    [30] = { 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023, 2024, level = 50, effect = 62 },
    --Quitela
    [31] = { 2025, 2026, 2027, 2028, 2029, 2030, 2031, 2032, 2033, level = 50, effect = 62 },
    --Raditz
    [32] = { 2034, 2035, 2036, 2037, 2038, 2039, 2040, 2041, level = 50, effect = 62 },
    --Shenron
    [33] = { 2048, 2049, 2050, 2621, 2782, 2047, level = 50, effect = 62 },
    --Tapion
    [34] = { 2051, 2052, 2053, 2054, 2055, 2056, 2057, 2058, 2059, 2060, 2061, 2062, 2063, 2064, 2065, level = 50, effect = 62 },
    --Trunks
    [35] = { 2066, 2067, 2068, 2069, 2070, 2071, 2072, 2073, 2074, 2075, 2076, 2077, 2078, level = 50, effect = 62 },
    --Tsuful
    [36] = { 2079, 2080, 2081, 2082, 2083, 2084, 2085, 2086, 2087, 2088, 2089, 2090, 2091, 2092, level = 50, effect = 62 },
    --Turles
    [37] = { 2093, 2094, 2095, 2096, 2097, 2098, 2099, 2100, 2101, 2102, 2103, 2104, 2105, level = 50, effect = 62 },
    --Uub
    [38] = { 2106, 2107, 2108, 2109, 2110, 2111, 2112, level = 50, effect = 62 },
    --Vados
    [39] = { 2113, 2114, 2115, 2116, 2117, 2118, 2119, 2120, level = 50, effect = 62 },
    --Vegeta
    [40] = { 2121, 2122, 2123, 2124, 2125, 2126, 2127, 2128, 2129, 2130, 2131, 2132, 2133, 2134, level = 50, effect = 62 },
    --Vegetto
    [41] = { 2135, 2136, 2137, 2138, 2139, 2140, 2141, 2142, 2143, level = 50, effect = 62 },
    --Vermouth
    [42] = { 1697, 1695, 1696, 1698, 1699, 1700, 1701, 1702, 1703, 1704, 1707, 1705, 1706, 1708, level = 50, effect = 62 },
    --Videl
    [43] = { 2144, 2145, 2146, 2147, 2148, 2149, 2150, level = 50, effect = 62 },
    --Zaiko
    [44] = { 2151, 2152, 2153, 2154, 2155, 2156, 2157, 2158, 2159, 2160, 2161, 2162, level = 50, effect = 62 },
    --Zeno
    [45] = { 2163, 2164, 2165, 2166, 2167, 2168, 2169, 2170, 2171, level = 50, effect = 62 },
    --Aizen
    [47] = { 2176, 2177, 2178, 2179, 2180, 2175, 2174, 2173, 2172, 2620, level = 50, effect = 62 },
    --Byakuya
    [48] = { 2185, 2186, 2187, 2188, 2189, 2190, 2183, 2184, level = 50, effect = 62 },
    --Gin
    [49] = { 2193, 2194, 2195, 2196, 2192, 2191, level = 50, effect = 62 },
    --Grimmjow
    [50] = { 2199, 2201, 2200, 2202, 2198, 2197, level = 50, effect = 62 },
    --Hitsugaya
    [51] = { 2207, 2211, 2210, 2209, 2206, 2208, 2212, 2204, 2205, level = 50, effect = 62 },
    --Ichigo FullBring
    [52] = { 2218, 2221, 2217, 2216, 2215, 2214, 2213, level = 50, effect = 62 },
    --Ichigo
    [53] = { 2227, 2234, 2233, 2230, 2232, 2231, 2229, 2224, 2223, 2228, 2235, 2226, 2225, 2222, 2221, 2220, 2219, level = 50, effect = 62 },
    --Ishida
    [54] = { 2239, 2242, 2241, 2243, 2240, 2238, 2237, 2236, level = 50, effect = 62 },
    --Kyouraku
    [55] = { 2250, 2247, 2249, 2248, 2251, 2246, 2245, 2244, level = 50, effect = 62 },
    --Neliel
    [56] = { 2255, 2258, 2257, 2256, 2259, 2254, 2253, 2252, level = 50, effect = 62 },
    --Orihime
    [57] = { 2262, 2263, 2264, 2261, 2260, level = 50, effect = 62 },
    --Renji
    [58] = { 2268, 2271, 2270, 2269, 2272, 2267, 2266, 2265, level = 50, effect = 62 },
    --Rukia
    [59] = { 2276, 2278, 2277, 2279, 2275, 2274, 2273, level = 50, effect = 62 },
    --Sado
    [60] = { 2280, 2283, 2285, 2284, 2286, 2282, 2281, level = 50, effect = 62 },
    --Shinji
    [61] = { 2291, 2295, 2294, 2293, 2292, 2296, 2290, 2289, 2288, 2287, level = 50, effect = 62 },
    --Soi Fong
    [62] = { 2303, 2304, 2302, 2301, 2300, 2299, 2298, 2297, level = 50, effect = 62 },
    --Tousen
    [63] = { 2309, 2308, 2310, 2307, 2306, 2305, level = 50, effect = 62 },
    --Ulquiorra
    [64] = { 2315, 2318, 2317, 2316, 2319, 2314, 2313, 2312, 2311, level = 50, effect = 62 },
    --Urahara
    [65] = { 2323, 2325, 2324, 2326, 2321, 2322, 2320, level = 50, effect = 62 },
    --Yoruichi
    [66] = { 2332, 2331, 2330, 2329, 2333, 2328, 2327, level = 50, effect = 62 },
    --Zaraki
    [67] = { 2339, 2343, 2338, 2342, 2341, 2340, 2344, 2337, 2336, 2335, 2334, level = 50, effect = 62 },
}

local sagastor = 578744
local storage = 120
local time = 1
local effect = 240

function onSay(cid, words, param, channel)
    if exhaustion.check(cid, storage) == TRUE then
        doPlayerSendCancel(cid, "You are exhausted.")
        return true
    end

    if param == '' then
        doPlayerSendTextMessage(cid, MESSAGE_STATUS_CONSOLE_BLUE, "Enter the transform number you want.")
        exhaustion.set(cid, storage, time)
        return true
    end

    local vocation = getPlayerVocation(cid)
    if not saga[vocation] then
        doPlayerSendTextMessage(cid, MESSAGE_STATUS_CONSOLE_BLUE, "There is no transformation for this vocation.")
        exhaustion.set(cid, storage, time)
        return true
    end

    local t = string.explode(param, ",")
    if t[2] then
        doPlayerSendTextMessage(cid, MESSAGE_STATUS_CONSOLE_RED, "Could not understand.")
        return true
    end

    if not tonumber(t[1]) then
        doPlayerSendTextMessage(cid, MESSAGE_STATUS_CONSOLE_BLUE, "Enter the transform number you want.")
        exhaustion.set(cid, storage, time)
        return true
    end

    local transformIndex = tonumber(t[1])
    local outfits = {}
    for i, v in ipairs(saga[vocation]) do
        if type(v) == "number" then
            outfits[i] = v
        end
    end

    if transformIndex > #outfits or transformIndex < 1 then
        doPlayerSendTextMessage(cid, MESSAGE_STATUS_CONSOLE_RED, "This transform does not exist.")
        exhaustion.set(cid, storage, time)
        return true
    end

    local requiredLevel = saga[vocation].level or 50
    local transformLevel = transformIndex * requiredLevel
    doPlayerSendTextMessage(cid, MESSAGE_STATUS_CONSOLE_BLUE,
        "Transformation " .. transformIndex .. " requires level " .. transformLevel .. ".")

    if getPlayerLevel(cid) < transformLevel then
        doPlayerSendTextMessage(cid, MESSAGE_STATUS_CONSOLE_BLUE,
            "Sorry, you need to be level " .. transformLevel .. " to use this transform.")
        return true
    end

    local out = outfits[transformIndex]
    doCreatureChangeOutfit(cid, { lookType = out })
    setPlayerStorageValue(cid, sagastor, ":" .. out .. ",:" .. vocation)
    doSendMagicEffect(getThingPos(cid), saga[vocation].effect or effect)
    doPlayerSendTextMessage(cid, MESSAGE_STATUS_CONSOLE_BLUE, "You've chosen a new transform!")
    doPlayerSay(cid, "Aah, there, I'm stronger!", TALKTYPE_ORANGE_1)
    exhaustion.set(cid, storage, time)
    return true
end
